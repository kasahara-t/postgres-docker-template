# Docker PostgreSQL Template

Welcome to the Docker PostgreSQL template repository! This guide will help you quickly set up a PostgreSQL environment using Docker, complete with a migration tool and an administrative interface. Here's how to get started, along with some essential information about managing your database containers.

## Prerequisites

To use this template, you will need:

* Docker: Ensure you have Docker installed on your system to run containers.
* Make: This project uses make commands for simplifying operations.

## Getting Started

Follow these steps to get your PostgreSQL environment running:

1. Initialize Configuration
Run the `make` command to interactively create necessary configuration files like `.env`. You will be prompted to input the database name, user name, and password. If no input is provided, default values will be used.

```bash
make
```

2. Launch Containers
Once the configuration is set, use Docker Compose to start all services:

```bash
docker compose up
```

## Containers in Operation

This setup includes several containers, which are orchestrated to work together:

* PostgreSQL: The main database server.
* Migration Service (go-migrate): Automatically starts when PostgreSQL is ready, to handle database migrations.
* pgAdmin 5: A web-based PostgreSQL administration tool, also starts after PostgreSQL is ready.

## Available Commands

Here are some useful commands provided by this project:

* `make all`: Generates all required files for the setup.
* `make clean`: Removes all generated files.
* `docker compose up`: Starts all containers.
* `docker compose stop`: Stops running containers without removing them.
* `docker compose down`: Stops and removes all containers.

## Configuration

You can customize the setup by modifying the .env file generated by the make command. This file allows you to adjust various settings related to the containers themselves, such as:

* Container Name Prefixes: Helps differentiate your service containers in a network.
* Port Numbers: Specify the ports on which services will listen, ensuring they do not conflict with other applications.
* Database Locale Settings: Configure regional settings that affect data sorting, character classification, and more.
These settings are just a few examples. The .env file contains multiple configurable variables that help tailor the Docker environment to fit your specific needs, enhancing both functionality and integration with existing systems..

## Security

The configuration uses Docker Compose secrets to manage sensitive information like database names, usernames, and passwords securely. By default, the password is a randomly generated 13-character string. You can change the password length by editing the corresponding variable in the Makefile.